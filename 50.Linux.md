# Linux

## 1、怎么看端口被哪个进程监听了？
```shell
netstat -napt  | grep 443 
```

![图片](assets/640-1691582402317.png)

其中，`-t` 表示 TCP 连接，`-u` 表示 UDP 连接，`-n` 表示不进行 DNS 解析，`-l` 表示只显示监听状态的端口，`-p` 表示显示进程 ID 和名称。

## 2、top命令有哪些参数，说一下

top命令是一个用于实时监控系统资源和进程的命令，它可以显示当前运行的进程、CPU使用情况、内存使用情况等信息。以下是一些常用的top命令参数：

1. **-d** <秒数>：指定top命令刷新的时间间隔，默认为3秒。
2. **-n** <次数>：指定top命令执行的次数后自动退出。
3. **-p** <进程ID>：指定要监控的进程ID。
4. **-u** <用户名>：只显示指定用户名的进程。
5. **-s** <排序字段>：按指定字段对进程进行排序，常见的字段有cpu（CPU使用率）、mem（内存使用率）等。
6. -H：显示进程的层次关系。
7. -i：只显示运行中的进程，不显示僵尸进程。

## 3、怎么显示线程？

在Linux中，可以使用以下命令来显示线程：

- top命令：在top命令的默认显示中，可以看到每个进程的线程数（Threads列）。例如，执行top命令后，按下"Shift + H"键可以切换到线程视图，显示每个进程的线程信息。
- ps命令：通过ps命令结合选项来显示线程。例如，使用"ps -eLf"命令可以显示系统中所有线程的详细信息。



### 4、怎么查看日志？

```shell
tail -f test.log
```



## 5、Linux用过吗，常用哪些操作？

chmod 

chown 

useradd 

groupadd 

netstat等等



文件相关(mv mkdir cd ls)

docker相关(docker container ls docker ps -a )

测试相关(测试连通性:ping 测试端口连通性:telnet)









## 6、Linux中查看进程运行状态的指令、查看内存使用情况的指令、tar解压文件的参数。

1. 查看进程运行状态的指令：ps命令。“ps -aux | grep PID”，用来查看某PID进程状态

- **ps：** 仅输入 `ps` 命令会显示当前终端的运行进程。
- **ps aux：** 显示所有用户的所有进程的详细信息，包括用户、进程 ID、CPU 使用率、内存使用率等。
- **ps -ef：** 类似于 `ps aux`，但输出格式略有不同，同样显示所有用户的所有进程。
- **ps -e：** 显示所有进程，等价于 `ps -A`。
- **ps -f：** 显示全格式的进程信息，包括更多详细信息。
- **ps -l：**：显示长格式的进程信息。长格式显示了更多的信息，例如进程命令行、进程状态（S）、进程的会话ID（SID）等。
- **ps u：** 显示当前用户的进程详细信息，包括用户、进程 ID、CPU 使用率、内存使用率等。
- **ps -o pid,user,%cpu,%mem,cmd：** 自定义输出格式，只显示进程 ID、用户、CPU 使用率、内存使用率和命令。



2. **查看内存使用情况的指令**：free命令。“free  -m”，命令查看内存使用情况。

3. **tar解压文件的参数**：

五个命令中必选一个
     -c: 建立压缩档案
     -x：解压
     -t：查看内容
     -r：向压缩归档文件末尾追加文件
     -u：更新原压缩包中的文件
这几个参数是可选的
     -z：有gzip属性的
     -v：显示所有过程
     -j：有bz2属性的
     -Z：有compress属性的
     -O：将文件解开到标准输出





## 8、文件权限怎么改

Linux文件的基本权限就有九个，分别是owner/group/others三种身份各有自己的read/write/execute权限
修改权限指令：chmod

| r    | w    |      |
| ---- | ---- | ---- |
|      |      |      |

```shell
[root@www ~]# chmod [-R] xyz 文件或目录 
选项与参数： 
xyz : 就是刚刚提到的数字类型的权限属性，为 rwx 属性数值的相加。 
-R : 进行递归(recursive)的持续变更，亦即连同次目录下的所有文件都会变更
    
# chmod 770 test.c //即修改test.c文件的权限为770

chmod +x 添加文件可执行权限
```





## 10、说说常用的Linux命令

1. cd命令：用于切换当前目录
2. ls命令：查看当前文件与目录
3. grep命令：该命令常用于分析一行的信息，若当中有我们所需要的信息，就将该行显示出来，该命令通常与管道命令一起使用，用于对一些命令的输出进行筛选加工。
4. cp命令：复制命令
5. mv命令：移动文件或文件夹命令
6. rm命令：删除文件或文件夹命令
7. ps命令：查看进程情况
8. kill命令：向进程发送终止信号
9. tar命令：对文件进行打包，调用gzip或bzip对文件进行压缩或解压
10. cat命令：查看文件内容，与less、more功能相似
11. top命令：可以查看操作系统的信息，如进程、CPU占用率、内存信息等
12. pwd命令：命令用于显示工作目录。







## 12、说说如何以root权限运行某个程序。

```shell
sudo chown root app（文件名）
sudo chmod u+s app（文件名）
```

你提供的两个命令是在 Unix 或类 Unix 系统上更改文件的所有者和设置 SetUID 权限的操作。下面解释一下这两个命令的含义：

1. `sudo chown root app`：
   - `sudo`：以超级用户权限执行命令。
   - `chown`：修改文件所有者。
   - `root`：将文件的所有者更改为 "root" 用户。
   - `app`：文件名，表示要更改所有者的目标文件。

这个命令的作用是将文件 `app` 的所有者更改为 "root" 用户。这可以用于确保只有特定的管理员用户能够修改或访问该文件。

2. `sudo chmod u+s app`：
   - `sudo`：以超级用户权限执行命令。
   - `chmod`：修改文件权限。
   - `u+s`：为用户权限添加 SetUID 权限。
   - `app`：文件名，表示要设置 SetUID 权限的目标文件。

这个命令的作用是将文件 `app` 的 SetUID 权限设置为被执行时获取该文件所有者的权限。这意味着当某用户执行这个文件时，程序会以文件所有者的权限来运行，而不是以执行用户的权限。

综合来看，这两个命令的目的是为了确保文件 `app` 的安全性和权限控制。它们将文件的所有者更改为 "root" 用户，同时设置 SetUID 权限，使得执行该文件时以 "root" 用户的权限运行程序。这在需要特定权限的应用场景中可能会有用。然而，请务必谨慎使用这些权限设置，以确保系统的安全性。





## 14、说说软链接和硬链接的区别。

1. 定义不同
软链接又叫符号链接，这个文件包含了另一个文件的路径名。可以是任意文件或目录，可以链接不
同文件系统的文件。
硬链接就是**一个文件的一个或多个文件名**。把文件名和计算机文件系统使用的节点号链接起来。因
此我们可以用多个文件名与同一个文件进行链接，这些文件名可以在同一目录或不同目录。

2. 限制不同
硬链接只能对已存在的文件进行创建，不能交叉文件系统进行硬链接的创建；
软链接可对不存在的文件或目录创建软链接；可交叉文件系统；

3. 创建方式不同
   硬链接不能对目录进行创建，只可对文件创建
   软链接可对文件或目录创建；

4. 影响不同
删除一个硬链接文件并不影响其他有相同 inode 号的文件。
删除软链接并不影响被指向的文件，但若被指向的原文件被删除，则相关软连接被称为死链接（即 
dangling link，若被指向路径文件被重新创建，死链接可恢复为正常的软链接）。

1. **物理性质：**
   - 软链接：软链接实际上是一个指向目标文件或目录的路径，类似于 Windows 中的快捷方式。软链接文件有自己的 inode（索引节点），但内容只包含目标文件的路径信息。
   - 硬链接：硬链接是指向同一索引节点（inode）的不同文件名。硬链接与目标文件在磁盘上共享同一数据块，可以看作是文件的别名。

